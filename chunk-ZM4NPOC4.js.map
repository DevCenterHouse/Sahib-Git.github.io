{
  "version": 3,
  "sources": ["apps/findqo-ireland/src/app/ads.route.ts", "apps/findqo-ireland/src/app/core/services/canonical.service.ts"],
  "sourcesContent": ["import { Route, Routes } from '@angular/router';\nimport { AisleType, SectionType, StandType } from '@core/enums';\nimport { RouteDataType } from '@core/services/route.service';\n\nenum PropertyType {\n\tSALE,\n\tRENT,\n\tSHARE,\n}\n\n// Generalized function to create routes for properties\nconst createPropertyAdRoute = (path: string, location: string, type: PropertyType, stand?: StandType): Route => {\n\tconst sectionMap = {\n\t\t[PropertyType.SALE]: SectionType.PROPERTIES_FOR_SALE,\n\t\t[PropertyType.RENT]: SectionType.PROPERTIES_FOR_RENT,\n\t\t[PropertyType.SHARE]: SectionType.PROPERTIES_FOR_RENT, // Share uses the rent section\n\t};\n\n\tconst aisleMap = {\n\t\t[PropertyType.SALE]: AisleType.SALE_RESIDENTIAL,\n\t\t[PropertyType.RENT]: AisleType.RENT_RESIDENTIAL,\n\t\t[PropertyType.SHARE]: AisleType.SHARE_RESIDENTIAL,\n\t};\n\n\treturn {\n\t\tpath,\n\t\tloadChildren: () => import('./feature/ads/ads.module').then((m) => m.AdsModule),\n\t\tdata: {\n\t\t\t[RouteDataType.IS_AD_LISTING_SEO_FRIENDLY_URL]: true,\n\t\t\t[RouteDataType.SECTION]: sectionMap[type],\n\t\t\t[RouteDataType.AISLE]: aisleMap[type],\n\t\t\t[RouteDataType.LOCATION]: location,\n\t\t\t...(stand && { [RouteDataType.STAND]: stand }),\n\t\t},\n\t};\n};\n\nexport const adsPredefinedRoutes = [\n\t// Property For Sale\n\t{\n\t\tseoFriendlyUrl: 'properties-for-sale-in-dublin-county',\n\t\toriginalUrl: 'properties-for-sale/dublin-county/sell-residential',\n\t\tlocation: 'dublin-county',\n\t\ttype: PropertyType.SALE,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'properties-for-sale-in-cork',\n\t\toriginalUrl: 'properties-for-sale/cork/sell-residential',\n\t\tlocation: 'cork',\n\t\ttype: PropertyType.SALE,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'properties-for-sale-in-galway',\n\t\toriginalUrl: 'properties-for-sale/galway/sell-residential',\n\t\tlocation: 'galway',\n\t\ttype: PropertyType.SALE,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'properties-for-sale-in-donegal',\n\t\toriginalUrl: 'properties-for-sale/donegal/sell-residential',\n\t\tlocation: 'donegal',\n\t\ttype: PropertyType.SALE,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'properties-for-sale-in-wexford',\n\t\toriginalUrl: 'properties-for-sale/wexford/sell-residential',\n\t\tlocation: 'wexford',\n\t\ttype: PropertyType.SALE,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'properties-for-sale-in-kerry',\n\t\toriginalUrl: 'properties-for-sale/kerry/sell-residential',\n\t\tlocation: 'kerry',\n\t\ttype: PropertyType.SALE,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'properties-for-sale-in-dublin',\n\t\toriginalUrl: 'properties-for-sale/dublin/sell-residential',\n\t\tlocation: 'dublin',\n\t\ttype: PropertyType.SALE,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'properties-for-sale-in-cavan',\n\t\toriginalUrl: 'properties-for-sale/cavan/sell-residential',\n\t\tlocation: 'cavan',\n\t\ttype: PropertyType.SALE,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'houses-for-sale-in-ireland',\n\t\toriginalUrl: 'properties-for-sale/ireland/sell-residential/houses',\n\t\tlocation: 'ireland',\n\t\ttype: PropertyType.SALE,\n\t\tstand: StandType.HOUSES,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'houses-for-sale-in-dublin',\n\t\toriginalUrl: 'properties-for-sale/dublin/sell-residential/houses',\n\t\tlocation: 'dublin',\n\t\ttype: PropertyType.SALE,\n\t\tstand: StandType.HOUSES,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'houses-for-sale-in-cork',\n\t\toriginalUrl: 'properties-for-sale/cork/sell-residential/houses',\n\t\tlocation: 'cork',\n\t\ttype: PropertyType.SALE,\n\t\tstand: StandType.HOUSES,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'houses-for-sale-in-wexford',\n\t\toriginalUrl: 'properties-for-sale/wexford/sell-residential/houses',\n\t\tlocation: 'wexford',\n\t\ttype: PropertyType.SALE,\n\t\tstand: StandType.HOUSES,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'houses-for-sale-in-cavan',\n\t\toriginalUrl: 'properties-for-sale/cavan/sell-residential/houses',\n\t\tlocation: 'cavan',\n\t\ttype: PropertyType.SALE,\n\t\tstand: StandType.HOUSES,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'houses-for-sale-in-dublin-county',\n\t\toriginalUrl: 'properties-for-sale/dublin-county/sell-residential/houses',\n\t\tlocation: 'dublin-county',\n\t\ttype: PropertyType.SALE,\n\t\tstand: StandType.HOUSES,\n\t},\n\n\t// Properties for Share\n\t{\n\t\tseoFriendlyUrl: 'properties-for-share-in-dublin',\n\t\toriginalUrl: 'properties-for-rent/dublin/share-residential',\n\t\tlocation: 'dublin',\n\t\ttype: PropertyType.SHARE,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'apartments-for-share-in-dublin',\n\t\toriginalUrl: 'properties-for-rent/dublin/share-residential/apartments',\n\t\tlocation: 'dublin',\n\t\ttype: PropertyType.SHARE,\n\t\tstand: StandType.APARTMENTS,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'houses-for-share-in-dublin',\n\t\toriginalUrl: 'properties-for-rent/dublin/share-residential/houses',\n\t\tlocation: 'dublin',\n\t\ttype: PropertyType.SHARE,\n\t\tstand: StandType.HOUSES,\n\t},\n\n\t// Properties for Rent\n\t{\n\t\tseoFriendlyUrl: 'properties-for-rent-in-dublin',\n\t\toriginalUrl: 'properties-for-rent/dublin/rent-residential',\n\t\tlocation: 'dublin',\n\t\ttype: PropertyType.RENT,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'apartments-for-rent-in-dublin',\n\t\toriginalUrl: 'properties-for-rent/dublin/rent-residential/apartments',\n\t\tlocation: 'dublin',\n\t\ttype: PropertyType.RENT,\n\t\tstand: StandType.APARTMENTS,\n\t},\n\t{\n\t\tseoFriendlyUrl: 'houses-for-rent-in-dublin',\n\t\toriginalUrl: 'properties-for-rent/dublin/rent-residential/houses',\n\t\tlocation: 'dublin',\n\t\ttype: PropertyType.RENT,\n\t\tstand: StandType.HOUSES,\n\t},\n];\n\n// Converts predefined routes into Angular `Route` configurations.\nexport const adsRoutes: Routes = adsPredefinedRoutes.map(({ seoFriendlyUrl, location, type, stand }) =>\n\tcreatePropertyAdRoute(seoFriendlyUrl, location, type, stand)\n);\n", "import { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable, Renderer2, RendererFactory2 } from '@angular/core';\nimport { environment } from '@environments/environment';\nimport { adsPredefinedRoutes } from '../../ads.route';\n// import { environment } from '@environments/environment';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class CanonicalService {\n\tconstructor(\n\t\t@Inject(DOCUMENT) private readonly document: Document,\n\t\tprivate readonly rendererFactory: RendererFactory2\n\t) {\n\t\t/**\n\t\t * You cannot inject Renderer2, but we can run RendererFactory2 to get Renderer2 instance inside @Injectable() service.\n\t\t *\n\t\t * @link https://stackoverflow.com/questions/34710408/renderer-cannot-be-used-in-service\n\t\t **/\n\t\tthis.renderer = this.rendererFactory.createRenderer(null, null);\n\t}\n\n\tprivate readonly renderer: Renderer2;\n\n\t// TODO: Check if this needs to be removed as it's doing nothing.\n\tcreateCannonicaUrl(url: string, hasDomain = false): void {\n\t\treturn;\n\t\t// if (environment.production) {\n\t\t//   const LINK_ELEMENT = this.renderer.createElement('link');\n\t\t//\n\t\t//   LINK_ELEMENT.setAttribute('rel', 'canonical');\n\t\t//\n\t\t//   const EXISTING_LINK = this.document.head.querySelector('[rel=\"canonical\"]');\n\t\t//\n\t\t//   EXISTING_LINK ? this.document.head.replaceChild(LINK_ELEMENT, EXISTING_LINK) : this.renderer.appendChild(this.document.head, LINK_ELEMENT);\n\t\t//\n\t\t//   LINK_ELEMENT.setAttribute('href', hasDomain ? url : `${environment.appUrl}/${url}`);\n\t\t// }\n\t}\n\n\t// TODO: Consider moving this to an Angular Guard.\n\tupdateCanonicalUrlForAdRoutes(url: string): void {\n\t\tconst fullUrl = new URL(`${environment.appUrl}/${url}`);\n\t\tconst params = new URLSearchParams(fullUrl.search);\n\t\tconst page = params.get('page');\n\t\tconst path = url.split('?')[0];\n\t\tconst head = this.document.head;\n\n\t\tlet canonicalLink = this.document.querySelector<HTMLLinkElement>(\"link[rel='canonical']\");\n\t\tif (!canonicalLink) {\n\t\t\tcanonicalLink = this.document.createElement('link');\n\t\t\tcanonicalLink.setAttribute('rel', 'canonical');\n\t\t\thead.appendChild(canonicalLink);\n\t\t}\n\n\t\tconst adRoute = adsPredefinedRoutes.find((route) => [`/${route.originalUrl}`, `/${route.seoFriendlyUrl}`].includes(path));\n\n\t\tconst canonicalPath = adRoute ? adRoute.seoFriendlyUrl : path;\n\t\tconst canonicalUrl = `${environment.appUrl}/${canonicalPath}${page && page !== '1' ? `?page=${page}` : ''}`;\n\n\t\tcanonicalLink.setAttribute('href', canonicalUrl);\n\t}\n\n\t/**\n\t * Remove canonical link element\n\t */\n\tremoveCanonicalLinkElement(): void {\n\t\tconst EXISTING_LINK = this.document.head.querySelector('[rel=\"canonical\"]');\n\n\t\tif (EXISTING_LINK) {\n\t\t\tEXISTING_LINK.remove();\n\t\t}\n\t}\n}\n"],
  "mappings": "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",
  "names": ["PropertyType"]
}
