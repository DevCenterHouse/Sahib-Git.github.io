{
  "version": 3,
  "sources": ["apps/findqo-ireland/src/app/feature/ads/pages/ad-list/county-content.facade.ts"],
  "sourcesContent": ["import { inject, Injectable } from '@angular/core';\nimport { FiltersApi } from '@core/data-access/apis/filters.api';\nimport { CountyContent } from '@core/models';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { tap, catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class CountyContentFacade {\n\tprivate readonly filtersApi = inject(FiltersApi);\n\n\tprivate readonly _currentCounty$ = new BehaviorSubject<string | null>(null);\n\tprivate readonly _countyContent$ = new BehaviorSubject<CountyContent | null>(null);\n\tprivate readonly excludedCounties = new Set(['ireland', 'outside-ireland']);\n\n\tget countyContent$(): Observable<CountyContent | null> {\n\t\treturn this._countyContent$.asObservable();\n\t}\n\n\tloadCountyContent(county: string): void {\n\t\t// Get only the primary county in there's multiple counties selected.\n\t\tconst primaryCounty = county.split(',')[0];\n\n\t\tif (this.excludedCounties.has(primaryCounty)) {\n\t\t\tthis._countyContent$.next(null);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._countyContent$.value && this._currentCounty$.value === primaryCounty) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._currentCounty$.next(primaryCounty);\n\t\tthis.filtersApi\n\t\t\t.getCountyContent(primaryCounty)\n\t\t\t.pipe(\n\t\t\t\tcatchError((error) => {\n\t\t\t\t\tthis._countyContent$.next(null);\n\t\t\t\t\tthrow error;\n\t\t\t\t}),\n\t\t\t\ttap((content) => this._countyContent$.next(content))\n\t\t\t)\n\t\t\t.subscribe();\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;;;AAOM,IAAO,sBAAP,MAAO,qBAAmB;EADhC,cAAA;AAEkB,SAAA,aAAa,OAAO,UAAU;AAE9B,SAAA,kBAAkB,IAAI,gBAA+B,IAAI;AACzD,SAAA,kBAAkB,IAAI,gBAAsC,IAAI;AAChE,SAAA,mBAAmB,oBAAI,IAAI,CAAC,WAAW,iBAAiB,CAAC;;EAE1E,IAAI,iBAAc;AACjB,WAAO,KAAK,gBAAgB,aAAY;EACzC;EAEA,kBAAkB,QAAc;AAE/B,UAAM,gBAAgB,OAAO,MAAM,GAAG,EAAE,CAAC;AAEzC,QAAI,KAAK,iBAAiB,IAAI,aAAa,GAAG;AAC7C,WAAK,gBAAgB,KAAK,IAAI;AAC9B;IACD;AAEA,QAAI,KAAK,gBAAgB,SAAS,KAAK,gBAAgB,UAAU,eAAe;AAC/E;IACD;AAEA,SAAK,gBAAgB,KAAK,aAAa;AACvC,SAAK,WACH,iBAAiB,aAAa,EAC9B,KACA,WAAW,CAAC,UAAS;AACpB,WAAK,gBAAgB,KAAK,IAAI;AAC9B,YAAM;IACP,CAAC,GACD,IAAI,CAAC,YAAY,KAAK,gBAAgB,KAAK,OAAO,CAAC,CAAC,EAEpD,UAAS;EACZ;;;uCAnCY,sBAAmB;IAAA;EAAA;;4EAAnB,sBAAmB,SAAnB,qBAAmB,UAAA,CAAA;EAAA;;;sEAAnB,qBAAmB,CAAA;UAD/B;;;",
  "names": []
}
