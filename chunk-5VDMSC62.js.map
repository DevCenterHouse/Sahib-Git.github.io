{
  "version": 3,
  "sources": ["apps/findqo-ireland/src/app/shared/components/cdk-dropdown/cdk-dropdown.component.ts", "apps/findqo-ireland/src/app/feature/general/filters/components/filters-sort/filters-sort.component.ts", "apps/findqo-ireland/src/app/feature/general/filters/components/filters-sort/filters-sort.component.html"],
  "sourcesContent": ["import { Overlay, OverlayConfig, OverlayRef } from '@angular/cdk/overlay';\nimport { CdkPortal } from '@angular/cdk/portal';\nimport { Component, HostListener, Input, OnDestroy, ViewChild } from '@angular/core';\n\n@Component({\n    selector: 'findqo-cdk-dropdown',\n    template: `\n\t\t<ng-template cdk-portal>\n\t\t\t<ng-content></ng-content>\n\t\t</ng-template>\n\t`,\n    standalone: false\n})\nexport class CdkDropdownComponent implements OnDestroy {\n\tconstructor(protected overlay: Overlay) {}\n\n\t@Input() reference: HTMLElement;\n\n\t@ViewChild(CdkPortal) contentTemplate: CdkPortal;\n\n\t@HostListener('window:resize')\n\tonWinResize(): void {\n\t\tthis.syncWidth();\n\t}\n\n\tprotected overlayRef: OverlayRef;\n\n\tisDropdownOpen = false;\n\n\tshow(): void {\n\t\tthis.overlayRef = this.overlay.create(this.getOverlayConfig());\n\t\tthis.overlayRef.attach(this.contentTemplate);\n\t\tthis.syncWidth();\n\t\tthis.overlayRef.backdropClick().subscribe(() => this.hide());\n\t\tthis.isDropdownOpen = true;\n\t}\n\n\thide(): void {\n\t\tthis.overlayRef.detach();\n\t\tthis.isDropdownOpen = false;\n\t}\n\n\tprivate getOverlayConfig(): OverlayConfig {\n\t\tconst POSITION_STRATEGY = this.overlay\n\t\t\t.position()\n\t\t\t.flexibleConnectedTo(this.reference)\n\t\t\t.withPush(false)\n\t\t\t.withPositions([\n\t\t\t\t{\n\t\t\t\t\toriginX: 'start',\n\t\t\t\t\toriginY: 'bottom',\n\t\t\t\t\toverlayX: 'start',\n\t\t\t\t\toverlayY: 'top',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\toriginX: 'start',\n\t\t\t\t\toriginY: 'top',\n\t\t\t\t\toverlayX: 'start',\n\t\t\t\t\toverlayY: 'bottom',\n\t\t\t\t},\n\t\t\t]);\n\n\t\tconst SCROLL_STRATEGY = this.overlay.scrollStrategies.reposition();\n\n\t\treturn new OverlayConfig({\n\t\t\tpositionStrategy: POSITION_STRATEGY,\n\t\t\tscrollStrategy: SCROLL_STRATEGY,\n\t\t\thasBackdrop: true,\n\t\t\tbackdropClass: 'cdk-overlay-transparent-backdrop',\n\t\t});\n\t}\n\n\tprivate syncWidth(): void {\n\t\tif (!this.overlayRef) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst REF_RECT = this.reference.getBoundingClientRect();\n\t\tthis.overlayRef.updateSize({ width: REF_RECT.width });\n\t}\n\n\tprivate destroyDropdown(): void {\n\t\tif (!this.overlayRef || !this.isDropdownOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.isDropdownOpen = false;\n\t\tthis.overlayRef.detach();\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.destroyDropdown();\n\t}\n}\n", "import { Component, EventEmitter, Inject, Input, OnChanges, OnInit, Optional, Output, SimpleChanges } from '@angular/core';\nimport { AbstractControl, FormBuilder, FormGroup } from '@angular/forms';\nimport { MAT_BOTTOM_SHEET_DATA, MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { FilterType } from '@core/enums';\nimport { SortBy } from '@core/models';\nimport { FiltersFacade } from '@feature/general/filters/filters.facade';\nimport { ButtonType } from '@shared/components/button/button.component';\nimport { DestroyService } from '@shared/services/destroy.service';\nimport { Observable } from 'rxjs';\nimport { FiltersService } from '../../services/filters.service';\nimport { CommonUtil } from '@core/utils/common.util';\n\n@Component({\n    selector: 'findqo-filters-sort',\n    templateUrl: './filters-sort.component.html',\n    styleUrls: ['./filters-sort.component.scss'],\n    providers: [DestroyService],\n    standalone: false\n})\nexport class FiltersSortComponent implements OnInit, OnChanges {\n\tconstructor(\n\t\t@Optional() private readonly bottomSheetRef: MatBottomSheetRef<FiltersSortComponent>,\n\t\tprivate readonly filtersService: FiltersService,\n\t\tprivate readonly filtersFacade: FiltersFacade,\n\t\tprivate readonly fb: FormBuilder\n\t) {\n\t\tthis.sortList$ = this.filtersFacade.getSortList$();\n\t}\n\n\t@Input() isOpen = false;\n\t@Output() selectSort = new EventEmitter<string>();\n\n\tform: FormGroup = this.fb.group({\n\t\t[FilterType.SORT]: [],\n\t});\n\n\tsortList$: Observable<SortBy[]>;\n\thasHeader = false;\n\n\treadonly buttonType = ButtonType;\n\n\t// Easy getter for the form controls\n\tget fc(): { [p: string]: AbstractControl } {\n\t\treturn this.form?.controls;\n\t}\n\n\tonSort(sort: SortBy): void {\n\t\tthis.fc?.[FilterType.SORT].patchValue(sort?.reference);\n\t\tthis.filtersService.updateRoute();\n\n\t\tif (this.bottomSheetRef) {\n\t\t\tthis.bottomSheetRef.dismiss(sort?.reference);\n\t\t} else {\n\t\t\tthis.selectSort.emit(sort?.reference);\n\t\t}\n\t}\n\n\tonClose(): void {\n\t\tthis.bottomSheetRef.dismiss();\n\t}\n\n\tprivate initDeclarations(): void {\n\t\tthis.hasHeader = !!this.bottomSheetRef;\n\n\t\t// We don't need this on Desktop view\n\t\tif (this.bottomSheetRef) {\n\t\t\tthis.form = this.filtersService.getFiltersForm();\n\t\t}\n\t}\n\n\tngOnInit(): void {\n\t\tthis.initDeclarations();\n\t}\n\n\tngOnChanges(changes: SimpleChanges): void {\n\t\t// HACK: Simple fix on the Filters Form is not getting updated in this component.\n\t\tCommonUtil.handleNgOnChanges(changes['isOpen'], () => {\n\t\t\tif (this.isOpen) {\n\t\t\t\tthis.form = this.filtersService.getFiltersForm();\n\t\t\t}\n\t\t});\n\t}\n}\n", "<div class=\"container-fluid h-100 p-0\">\n\t<div class=\"d-flex flex-column h-100\">\n\t\t<header *ngIf=\"hasHeader\">\n\t\t\t<div class=\"option row justify-content-between align-items-center py-3\">\n\t\t\t\t<div class=\"col\">\n\t\t\t\t\t<span>Sort</span>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Close -->\n\t\t\t\t<div class=\"col\">\n\t\t\t\t\t<findqo-button\n\t\t\t\t\t\tclass=\"c-btn--icon back ms-auto\"\n\t\t\t\t\t\tariaLabel=\"back\"\n\t\t\t\t\t\ticonPrefix=\"xmark-solid\"\n\t\t\t\t\t\t[btnType]=\"buttonType.ICON\"\n\t\t\t\t\t\t(clicked)=\"onClose()\"\n\t\t\t\t\t></findqo-button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</header>\n\n\t\t<div *ngFor=\"let sort of sortList$ | async | slice: 1\" class=\"option\">\n\t\t\t<findqo-button\n\t\t\t\tclass=\"option\"\n\t\t\t\tbtnClass=\"w-100\"\n\t\t\t\tariaLabel=\"filter option\"\n\t\t\t\t[btnType]=\"buttonType.BASIC\"\n\t\t\t\t[iconSuffix]=\"sort.reference === fc?.['sort'].value ? 'check' : ''\"\n\t\t\t\t[label]=\"sort.name\"\n\t\t\t\t(clicked)=\"onSort(sort)\"\n\t\t\t></findqo-button>\n\t\t</div>\n\t</div>\n</div>\n"],
  "mappings": "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",
  "names": []
}
