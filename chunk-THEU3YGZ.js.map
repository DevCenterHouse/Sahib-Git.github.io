{
  "version": 3,
  "sources": ["apps/findqo-ireland/src/app/feature/general/filters/components/property-alert-dialog/property-alert-dialog.component.ts", "apps/findqo-ireland/src/app/feature/general/filters/components/property-alert-dialog/property-alert-dialog.component.html"],
  "sourcesContent": ["import { Component, Inject, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { FiltersApi } from '@core/data-access/apis/filters.api';\nimport { SnackService } from '@core/services/snack.service';\nimport { PropertyAlertsFacade } from '@feature/property-alerts/property-alerts.facade';\nimport { ButtonType } from '@shared/components/button/button.component';\n\n@Component({\n    selector: 'findqo-property-alert-dialog',\n    templateUrl: './property-alert-dialog.component.html',\n    styleUrls: ['./property-alert-dialog.component.scss'],\n    standalone: false\n})\nexport class PropertyAlertDialogComponent implements OnInit {\n\tconstructor(\n\t\t@Inject(MAT_DIALOG_DATA) public modalData,\n\t\tprivate readonly dialogRef: MatDialogRef<PropertyAlertDialogComponent>,\n\t\tprivate readonly filterApi: FiltersApi,\n\t\tprivate fb: FormBuilder,\n\t\tprivate propertAlert: PropertyAlertsFacade,\n\t\tprivate snackService: SnackService\n\t) {}\n\n\treadonly buttonType = ButtonType;\n\tcountyList = [];\n\n\tpropertyAlertForm = this.fb.group({\n\t\tcountyId: ['', [Validators.required]],\n\t\tsection: ['', [Validators.required]],\n\t\temailAlert: [true, [Validators.required]],\n\t\taisle: ['', [Validators.required]],\n\t});\n\n\tonDismiss(): void {\n\t\tthis.dialogRef.close(false);\n\t}\n\n\tonSubmit() {\n\t\tif (this.propertyAlertForm.invalid) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.propertAlert.addAlert(this.propertyAlertForm.value).subscribe({\n\t\t\tnext: () => {\n\t\t\t\tthis.snackService.open({ data: { message: 'Success! Property Alert enabled for this search.', type: 'success' }, panelClass: ['snackbar-success'] });\n\n\t\t\t\tthis.dialogRef?.close();\n\t\t\t},\n\t\t\terror: (e) => {\n\t\t\t\tthis.snackService.open({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\te?.error?.error?.id === 'propertyAlertAlreadyExists' ? 'Property Alert already exists for this search.' : e?.error?.error?.errors[0]?.messages[0],\n\t\t\t\t\t\ttype: e?.error?.error?.id === 'propertyAlertAlreadyExists' ? 'info' : 'error',\n\t\t\t\t\t},\n\t\t\t\t\tpanelClass: 'snackbar-error',\n\t\t\t\t});\n\t\t\t},\n\t\t});\n\t}\n\n\tngOnInit(): void {\n\t\tthis.filterApi.getCountyList({}).subscribe((res) => {\n\t\t\tif (res && res?.['all']) {\n\t\t\t\tthis.countyList = res?.['all'];\n\n\t\t\t\tif (this.modalData.location.county) {\n\t\t\t\t\tthis.propertyAlertForm.patchValue({\n\t\t\t\t\t\tcountyId: this.countyList.find((res) => res.name.trim().toLowerCase() === this.modalData.location.county.trim().toLowerCase())?.id,\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (this.modalData.location.countyReference) {\n\t\t\t\t\tthis.propertyAlertForm.patchValue({\n\t\t\t\t\t\tcountyId: this.countyList.find((res) => res.reference.trim().toLowerCase() === this.modalData.location.countyReference.trim().toLowerCase())?.id,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.propertyAlertForm.patchValue({\n\t\t\tsection: this.modalData.section,\n\t\t\taisle: this.modalData.aisle,\n\t\t});\n\t}\n}\n", "<div class=\"container p-0\">\n\t<form [formGroup]=\"propertyAlertForm\" (ngSubmit)=\"onSubmit()\">\n\t\t<div class=\"row mx-0 px-3 justify-content-between align-items-center dialog-header\">\n\t\t\t<div class=\"col-auto px-0\">\n\t\t\t\t<h4 class=\"heading-4-regular fg-general-5 m-0\">Property Alert</h4>\n\t\t\t</div>\n\t\t\t<div class=\"col-auto px-0\">\n\t\t\t\t<button mat-icon-button mat-dialog-close class=\"close-btn\">\n\t\t\t\t\t<mat-icon svgIcon=\"close-2\" class=\"justify-content-center\"></mat-icon>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"row mx-0 px-3 mt-3 justify-content-between align-items-center\">\n\t\t\t<div class=\"col-12 px-0\">\n\t\t\t\t<span class=\"text-body-regular fg-general-4 mt-4\">Select the County</span>\n\n\t\t\t\t<mat-form-field appearance=\"outline\" class=\"text-body-regular w-100 no-subscript\">\n\t\t\t\t\t<mat-select formControlName=\"countyId\" [placeholder]=\"'Select the County'\">\n\t\t\t\t\t\t@for (county of countyList; track county) {\n\t\t\t\t\t\t\t<mat-option [value]=\"county.id\">{{ county.name }}</mat-option>\n\t\t\t\t\t\t}\n\t\t\t\t\t</mat-select>\n\t\t\t\t</mat-form-field>\n\t\t\t\t<a class=\"text-decoration-underline fg-general-3 fs-12px lh-16px\" mat-dialog-close routerLink=\"property-alerts\">Manage Email Alerts</a>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"row my-3 mx-0 px-3 justify-content-between align-items-center\">\n\t\t\t<div class=\"col-12 px-0\">\n\t\t\t\t<mat-checkbox formControlName=\"emailAlert\" color=\"primary\">\n\t\t\t\t\t<span class=\"fs-12px fw-400 lh-18px fg-general-5\">Email me when ads match this search</span>\n\t\t\t\t</mat-checkbox>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"row mx-0 gap-3 p-3 dialog-actions\">\n\t\t\t<div class=\"col px-0\">\n\t\t\t\t<findqo-button\n\t\t\t\t\t[isDisabled]=\"!propertyAlertForm.getRawValue().emailAlert || propertyAlertForm.invalid\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tclass=\"w-100 d-flex flex-column\"\n\t\t\t\t\t[label]=\"'Enable property listing alert'\"\n\t\t\t\t></findqo-button>\n\t\t\t</div>\n\t\t</div>\n\t</form>\n</div>\n"],
  "mappings": "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",
  "names": ["res"]
}
